"""add fields movie_type_id to fact_movie_info

Revision ID: 9aac5240e3b5
Revises: 62c9d14bd514
Create Date: 2025-02-26 17:56:40.306849

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = '9aac5240e3b5'
down_revision: Union[str, None] = '62c9d14bd514'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_unique_constraint(None, 'dim_ad', ['ad_id'], schema='common_dim_schema')
    op.create_unique_constraint(None, 'dim_currency', ['currency_id'], schema='common_dim_schema')
    op.create_unique_constraint(None, 'dim_date', ['date_id'], schema='common_dim_schema')
    op.create_unique_constraint(None, 'dim_device', ['device_id'], schema='common_dim_schema')
    op.create_unique_constraint(None, 'dim_event_type', ['event_type_id'], schema='common_dim_schema')
    op.create_unique_constraint(None, 'dim_game', ['game_id'], schema='common_dim_schema')
    op.create_unique_constraint(None, 'dim_genre', ['genre_id'], schema='common_dim_schema')
    op.create_unique_constraint(None, 'dim_location', ['location_id'], schema='common_dim_schema')
    op.create_unique_constraint(None, 'dim_platform', ['platform_id'], schema='common_dim_schema')
    op.create_unique_constraint(None, 'dim_time', ['time_id'], schema='common_dim_schema')
    op.create_unique_constraint(None, 'dim_game_position', ['game_position_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'dim_game_version', ['version_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'dim_item', ['item_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'dim_item_type', ['item_type_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'dim_level', ['level_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'dim_movie_type', ['movie_type_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'dim_package', ['package_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'dim_show_type', ['show_type_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'dim_user', ['user_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'fact_ad_view', ['ad_view_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'fact_iap', ['iap_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'fact_item_transaction', ['transaction_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.add_column('fact_movie_info', sa.Column('movie_type_id', sa.Integer(), nullable=True), schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'fact_movie_info', ['movie_info_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_foreign_key(None, 'fact_movie_info', 'dim_movie_type', ['movie_type_id'], ['movie_type_id'], source_schema='game_celebrity_check_challenge_prank_schema', referent_schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'fact_player_activity', ['activity_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'fact_purchase_action', ['purchase_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'fact_screen', ['screen_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'fact_user_behavior', ['behavior_id'], schema='game_celebrity_check_challenge_prank_schema')
    op.create_unique_constraint(None, 'dim_game_position', ['game_position_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'dim_game_version', ['version_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'dim_item', ['item_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'dim_item_type', ['item_type_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'dim_level', ['level_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'dim_package', ['package_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'dim_show_type', ['show_type_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'dim_user', ['user_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'fact_ad_view', ['ad_view_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'fact_iap', ['iap_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'fact_item_transaction', ['transaction_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'fact_level_event', ['level_event_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'fact_player_action', ['action_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'fact_player_activity', ['activity_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'fact_purchase_action', ['purchase_id'], schema='game_screw_puzzle_story_schema')
    op.create_unique_constraint(None, 'dim_game_position', ['game_position_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'dim_game_version', ['version_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'dim_item', ['item_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'dim_item_type', ['item_type_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'dim_level', ['level_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'dim_package', ['package_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'dim_show_type', ['show_type_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'dim_user', ['user_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'fact_ad_view', ['ad_view_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'fact_iap', ['iap_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'fact_item_transaction', ['transaction_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'fact_level_event', ['level_event_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'fact_player_action', ['action_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'fact_player_activity', ['activity_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'fact_purchase_action', ['purchase_id'], schema='game_supermarket_journey_schema')
    op.create_unique_constraint(None, 'dim_game_position', ['game_position_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'dim_game_version', ['version_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'dim_item', ['item_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'dim_item_type', ['item_type_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'dim_level', ['level_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'dim_package', ['package_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'dim_show_type', ['show_type_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'dim_user', ['user_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'fact_ad_view', ['ad_view_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'fact_iap', ['iap_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'fact_item_transaction', ['transaction_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'fact_player_activity', ['activity_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'fact_purchase_action', ['purchase_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'fact_screen', ['screen_id'], schema='game_xgame_drama_max_schema')
    op.create_unique_constraint(None, 'fact_user_behavior', ['behavior_id'], schema='game_xgame_drama_max_schema')
    # ### end Alembic commands ###


def downgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(None, 'fact_user_behavior', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'fact_screen', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'fact_purchase_action', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'fact_player_activity', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'fact_item_transaction', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'fact_iap', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'fact_ad_view', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'dim_user', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'dim_show_type', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'dim_package', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'dim_level', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'dim_item_type', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'dim_item', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'dim_game_version', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'dim_game_position', schema='game_xgame_drama_max_schema', type_='unique')
    op.drop_constraint(None, 'fact_purchase_action', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'fact_player_activity', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'fact_player_action', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'fact_level_event', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'fact_item_transaction', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'fact_iap', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'fact_ad_view', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'dim_user', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'dim_show_type', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'dim_package', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'dim_level', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'dim_item_type', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'dim_item', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'dim_game_version', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'dim_game_position', schema='game_supermarket_journey_schema', type_='unique')
    op.drop_constraint(None, 'fact_purchase_action', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'fact_player_activity', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'fact_player_action', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'fact_level_event', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'fact_item_transaction', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'fact_iap', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'fact_ad_view', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'dim_user', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'dim_show_type', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'dim_package', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'dim_level', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'dim_item_type', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'dim_item', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'dim_game_version', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'dim_game_position', schema='game_screw_puzzle_story_schema', type_='unique')
    op.drop_constraint(None, 'fact_user_behavior', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'fact_screen', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'fact_purchase_action', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'fact_player_activity', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'fact_movie_info', schema='game_celebrity_check_challenge_prank_schema', type_='foreignkey')
    op.drop_constraint(None, 'fact_movie_info', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_column('fact_movie_info', 'movie_type_id', schema='game_celebrity_check_challenge_prank_schema')
    op.drop_constraint(None, 'fact_item_transaction', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'fact_iap', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'fact_ad_view', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'dim_user', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'dim_show_type', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'dim_package', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'dim_movie_type', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'dim_level', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'dim_item_type', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'dim_item', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'dim_game_version', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'dim_game_position', schema='game_celebrity_check_challenge_prank_schema', type_='unique')
    op.drop_constraint(None, 'dim_time', schema='common_dim_schema', type_='unique')
    op.drop_constraint(None, 'dim_platform', schema='common_dim_schema', type_='unique')
    op.drop_constraint(None, 'dim_location', schema='common_dim_schema', type_='unique')
    op.drop_constraint(None, 'dim_genre', schema='common_dim_schema', type_='unique')
    op.drop_constraint(None, 'dim_game', schema='common_dim_schema', type_='unique')
    op.drop_constraint(None, 'dim_event_type', schema='common_dim_schema', type_='unique')
    op.drop_constraint(None, 'dim_device', schema='common_dim_schema', type_='unique')
    op.drop_constraint(None, 'dim_date', schema='common_dim_schema', type_='unique')
    op.drop_constraint(None, 'dim_currency', schema='common_dim_schema', type_='unique')
    op.drop_constraint(None, 'dim_ad', schema='common_dim_schema', type_='unique')
    # ### end Alembic commands ###
